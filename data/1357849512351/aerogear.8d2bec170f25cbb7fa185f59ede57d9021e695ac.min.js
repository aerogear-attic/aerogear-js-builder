/*! AeroGear JavaScript Library - v1.0.0.M2 - 2013-01-10
* https://github.com/aerogear/aerogear-js
* JBoss, Home of Professional Open Source
* Copyright Red Hat, Inc., and individual contributors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
* http://www.apache.org/licenses/LICENSE-2.0
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
(function(t,e,a){t.DataManager.adapters.Memory=function(e,r){if(!(this instanceof t.DataManager.adapters.Memory))return new t.DataManager.adapters.Memory(e,r);r=r||{};var n=r.recordId?r.recordId:"id",i=null,s=!!r.dataSync;this.getRecordId=function(){return n},this.getData=function(e){var a,r,n=[];if(s&&!e){for(a in i)r=i[a]["ag-sync-status"],r!==t.DataManager.STATUS_REMOVED&&n.push(i[a]);return n}return i},this.setData=function(e){if(s)for(var a in e)e[a]["ag-sync-status"]=t.DataManager.STATUS_NEW;i=e},this.emptyData=function(){if(s)for(var e in i)i[e]["ag-sync-status"]=t.DataManager.STATUS_REMOVED;else i=null},this.addDataRecord=function(e){i=i||[],s&&(e["ag-sync-status"]=t.DataManager.STATUS_NEW,e.id=e.id||a()),i.push(e)},this.updateDataRecord=function(e,a){s&&(a["ag-sync-status"]=t.DataManager.STATUS_MODIFIED),i[e]=a},this.removeDataRecord=function(e){s?i[e]["ag-sync-status"]=t.DataManager.STATUS_REMOVED:i.splice(e,1)},this.getDataSync=function(){return s},this.traverseObjects=function(t,e,a){for(;"object"==typeof e&&a;)t=Object.keys(e)[0],e=e[t],a=a[t];return e===a?!0:!1}},t.DataManager.adapters.Memory.prototype.read=function(t){var e={};return e[this.getRecordId()]=t,t?this.filter(e):this.getData()},t.DataManager.adapters.Memory.prototype.save=function(e,a){var r=!1;if(e=t.isArray(e)?e:[e],a)this.setData(e);else if(this.getData())for(var n=0;e.length>n;n++){for(var i in this.getData())if(this.getData()[i][this.getRecordId()]===e[n][this.getRecordId()]){this.updateDataRecord(i,e[n]),r=!0;break}r||this.addDataRecord(e[n]),r=!1}else this.setData(e);return this.getData()},t.DataManager.adapters.Memory.prototype.remove=function(e){if(!e)return this.emptyData(),this.getData();e=t.isArray(e)?e:[e];for(var a,r,n,i=0;e.length>i;i++){if("string"==typeof e[i]||"number"==typeof e[i])a=e[i];else{if(!e)continue;a=e[i][this.getRecordId()]}r=this.getData(!0);for(n in r)r[n][this.getRecordId()]===a&&this.removeDataRecord(n)}return this.getData()},t.DataManager.adapters.Memory.prototype.filter=function(a,r){var n,i,s,o,f,c=this;return n=a?this.getData().filter(function(n){var u,h,d=r?!1:!0,l=Object.keys(a);for(i=0;l.length>i;i++){if(a[l[i]].data)for(u=a[l[i]],h=u.matchAny?!1:!0,s=0;u.data.length>s;s++)if(t.isArray(n[l[i]]))if(n[l[i]].length){if(0===e(n[l]).not(u.data).length&&0===e(u.data).not(n[l]).length){h=!0;break}for(o=0;n[l[i]].length>o;o++){if(u.matchAny&&u.data[s]===n[l[i]][o]){if(h=!0,r)break;for(f=0;n[l[i]].length>f;f++)if(!r&&u.data[s]!==n[l[i]][f]){h=!1;break}}if(!u.matchAny&&u.data[s]!==n[l[i]][o]){h=!1;break}}}else h=!1;else if("object"==typeof u.data[s]){if(u.matchAny&&c.traverseObjects(l[i],u.data[s],n[l[i]])){h=!0;break}if(!u.matchAny&&!c.traverseObjects(l[i],u.data[s],n[l[i]])){h=!1;break}}else{if(u.matchAny&&u.data[s]===n[l[i]]){h=!0;break}if(!u.matchAny&&u.data[s]!==n[l[i]]){h=!1;break}}else if(t.isArray(n[l[i]]))if(h=r?!1:!0,n[l[i]].length)for(s=0;n[l[i]].length>s;s++){if(r&&a[l[i]]===n[l[i]][s]){h=!0;break}if(!r&&a[l[i]]!==n[l[i]][s]){h=!1;break}}else h=!1;else h="object"==typeof a[l[i]]?c.traverseObjects(l[i],a[l[i]],n[l[i]]):a[l[i]]===n[l[i]]?!0:!1;if(r&&h){d=!0;break}if(!r&&!h){d=!1;break}}return d}):this.getData()||[]}})(AeroGear,jQuery,uuid),function(){function t(t,e,a){var r=e&&a||0,n=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){16>n&&(e[r+n++]=y[t])});16>n;)e[r+n++]=0;return e}function e(t,e){var a=e||0,r=g;return r[t[a++]]+r[t[a++]]+r[t[a++]]+r[t[a++]]+"-"+r[t[a++]]+r[t[a++]]+"-"+r[t[a++]]+r[t[a++]]+"-"+r[t[a++]]+r[t[a++]]+"-"+r[t[a++]]+r[t[a++]]+r[t[a++]]+r[t[a++]]+r[t[a++]]+r[t[a++]]}function a(t,a,r){var n=a&&r||0,i=a||[];t=t||{};var s=null!=t.clockseq?t.clockseq:v,o=null!=t.msecs?t.msecs:(new Date).getTime(),f=null!=t.nsecs?t.nsecs:A+1,c=o-M+(f-A)/1e4;if(0>c&&null==t.clockseq&&(s=16383&s+1),(0>c||o>M)&&null==t.nsecs&&(f=0),f>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");M=o,A=f,v=s,o+=122192928e5;var u=(1e4*(268435455&o)+f)%4294967296;i[n++]=255&u>>>24,i[n++]=255&u>>>16,i[n++]=255&u>>>8,i[n++]=255&u;var h=268435455&1e4*(o/4294967296);i[n++]=255&h>>>8,i[n++]=255&h,i[n++]=16|15&h>>>24,i[n++]=255&h>>>16,i[n++]=128|s>>>8,i[n++]=255&s;for(var d=t.node||m,l=0;6>l;l++)i[n+l]=d[l];return a?a:e(i)}function r(t,a,r){var n=a&&r||0;"string"==typeof t&&(a="binary"==t?new l(16):null,t=null),t=t||{};var i=t.random||(t.rng||d)();if(i[6]=64|15&i[6],i[8]=128|63&i[8],a)for(var s=0;16>s;s++)a[n+s]=i[s];return a||e(i)}var n,i,s,o=this,f=Array(16);if(n=function(){for(var t,t,e=f,a=0,a=0;16>a;a++)0==(3&a)&&(t=4294967296*Math.random()),e[a]=255&t>>>((3&a)<<3);return e},o.crypto&&crypto.getRandomValues){var c=new Uint32Array(4);s=function(){crypto.getRandomValues(c);for(var t=0;16>t;t++)f[t]=255&c[t>>2]>>>8*(3&t);return f}}try{var u=require("crypto").randomBytes;i=u&&function(){return u(16)}}catch(h){}for(var d=i||s||n,l="function"==typeof Buffer?Buffer:Array,g=[],y={},p=0;256>p;p++)g[p]=(p+256).toString(16).substr(1),y[g[p]]=p;var D=d(),m=[1|D[0],D[1],D[2],D[3],D[4],D[5]],v=16383&(D[6]<<8|D[7]),M=0,A=0,b=r;if(b.v1=a,b.v4=r,b.parse=t,b.unparse=e,b.BufferClass=l,b.mathRNG=n,b.nodeRNG=i,b.whatwgRNG=s,"undefined"!=typeof module)module.exports=b;else{var S=o.uuid;b.noConflict=function(){return o.uuid=S,b},o.uuid=b}}();var AeroGear={};AeroGear.Core=function(){if(this instanceof AeroGear.Core)throw"Invalid instantiation of base class AeroGear.Core";this.add=function(t){var e,a,r=this[this.collectionName]||{};if(!t)return this;if("string"==typeof t)r[t]=AeroGear[this.lib].adapters[this.type](t);else if(AeroGear.isArray(t))for(e=0;t.length>e;e++)a=t[e],"string"==typeof a?r[a]=AeroGear[this.lib].adapters[this.type](a):r[a.name]=AeroGear[this.lib].adapters[a.type||this.type](a.name,a.settings||{});else r[t.name]=AeroGear[this.lib].adapters[t.type||this.type](t.name,t.settings||{});return this[this.collectionName]=r,this},this.remove=function(t){var e,a,r=this[this.collectionName]||{};if("string"==typeof t)delete r[t];else if(AeroGear.isArray(t))for(e=0;t.length>e;e++)a=t[e],"string"==typeof a?delete r[a]:delete r[a.name];else t&&delete r[t.name];return this[this.collectionName]=r,this}},AeroGear.isArray=function(t){return"[object Array]"==={}.toString.call(t)},function(t){t.DataManager=function(e){return this instanceof t.DataManager?(t.Core.call(this),this.lib="DataManager",this.type=e?e.type||"Memory":"Memory",this.collectionName="stores",this.add(e),undefined):new t.DataManager(e)},t.DataManager.prototype=t.Core,t.DataManager.constructor=t.DataManager,t.DataManager.adapters={},t.DataManager.STATUS_NEW=1,t.DataManager.STATUS_MODIFIED=2,t.DataManager.STATUS_REMOVED=0}(AeroGear,jQuery);
//@ sourceMappingURL=aerogear.min.js